<!doctype html>
<html lang="cz">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Teacher digital Agency</title>
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/calendar.css') }}">
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap.js') }}"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.13.6/underscore-min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.30.1/moment.min.js"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/calendar/language.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/calendar/calendar.js') }}"></script>
    
</head>
<body>
<div class="wrapper">
    <div class="content">
        <div class="introduction">
            <img class="logo" src="{{ url_for('static', filename='img/TdA_LOGO/TeacherDigitalAgency_LOGO_black.png') }}" onclick="location.href='/';" style="cursor: pointer;">
            <div class="nadpisy text-center p-3 intro-text">Hello TdA!</div> 

            <!-- only log out-->
            <div class="btn btn-outline-primary login text-center" onclick="location.href='/logout';" style="cursor: pointer;">
                <img class="icon" src="{{ url_for('static', filename='img/TdA_ikony/300ppi/TdA_ikony_studium_black.png') }}">
                <div class="text-na-bilem login-text">Logout</div>
            </div>
        </div>

        <div class="page-header">
            <div class="btn-group">
                <button class="btn btn-primary" data-calendar-nav="prev"><< Prev</button>
                <button class="btn" data-calendar-nav="today">Today</button>
                <button class="btn btn-primary" data-calendar-nav="next">Next >></button>
            </div>
            <div class="btn-group align-items-end justify-content-end">
                <button class="btn btn-warning" data-calendar-view="year">Year</button>
                <button class="btn btn-warning active" data-calendar-view="month">Month</button>
                <button class="btn btn-warning" data-calendar-view="week">Week</button>
                <button class="btn btn-warning" data-calendar-view="day">Day</button>
            </div>
        <h3></h3>
    </div>

    <div class="row">
        <div class="span">
            <div id="calendar"></div>
        </div>
        <div class="span">
            <h4>Events</h4>
            <ul id="eventlist" class="nav nav-list"></ul>
        </div>
    </div>

    <div class="modal hide fade" tabindex="-1" id="events-modal">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Event</h3>
            </div>
            <div class="modal-body" style="height: 400px">
              <p>Modal body text goes here.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
      {% for rezervace in data %}
      <div class="rezervace" id="{{rezervace['id']}}">
          <div class="rezervace-date">{{rezervace['date']}}</div>
          <div class="rezervace-time">{{rezervace['start_time']}}-{{rezervace['end_time']}}</div>
          <div class="student">
              <div class="rezervace-student-name">{{rezervace['first_name_student']}} {{rezervace['last_name_student']}}</div>
              <div class="rezervace-student-kotakt">{{rezervace['email_student']}} {{rezervace['number_student']}}</div>
          </div>
          <div class="rezervace-poznamky">{{rezervace['notes']}}</div>
          <div class="rezervace-tag">{{rezervace['subject']}}</div>
      </div>
      {% endfor %}
      
    <script type="text/javascript">
        function events_data() {
            {% if data %}
            return [
                {% for rezervace in data %}
                    {
                        "id": 1, "title": "{{rezervace['subject']}} - {{rezervace['first_name_student']}} {{rezervace['last_name_student']}}",
                        "url": "../../rezervace/{{rezervace['id']}}", "class": "event-default", 
                        "start": moment("{{rezervace['date']}}T{{rezervace['start_time']}}").valueOf(), // Milliseconds
                        "end": moment("{{rezervace['date']}}T{{rezervace['end_time']}}").valueOf() // Milliseconds
                    },
                    {
                        "id": 1, "title": "Event 2", "url": "http://example.com", "class": "event-default", 
                        "start": moment("2024-02-20T09").valueOf(), // Milliseconds
                        "end": moment("2024-02-20T11").valueOf() // Milliseconds
                    },
                {% endfor %}
                ]
            {% else %}
            return []        
        {% endif %}};
    </script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/calendar/app.js') }}"></script>
</div>
</body>
</html>